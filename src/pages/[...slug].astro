---
import type { GetStaticPaths } from "astro";
import Header from "../components/Header.astro";
import Footer from "../components/Footer.astro";
import LayoutInter from "../layouts/baselayout/LayoutInter.astro"
import { getCollection } from "astro:content"
import {Image} from "astro:assets";

export async function getStaticPaths() {
    const interventions = await getCollection("intervention");
    return interventions.map((entry) => {
        return {
            params: { slug: entry.slug },
            props: {entry},
        };
    });;
}

const { entry } = Astro.props
const { Content } = await entry.render()
---

<LayoutInter title="">
    <main>
        <Header />
        <div class="img-container">
            <Image transition:name="anim" src={entry.data.cover} alt={entry.data.title} />
        </div>
        
        <h1>{entry.data.title}</h1>
        <section class="content">
            <Content />
            </section>
        <Footer />
    </main>
</LayoutInter>


<style lang="scss">
    main{
        color: white;
    }
    .img-container{
        width: 100%;
        height: 500px;
        object-fit: cover;
        display: flex;
        justify-content: center;
        align-items: center;
        flex-direction: column;
        & img{
            width: 100%;
            height: 100%;
        }
      
    }

</style>